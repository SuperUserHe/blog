---
layout: post
title: "ğŸš€å‰ç«¯ä»£ç è§„èŒƒ"
date: 2020-06-02
category:  Coding 
tags:
  - ^å‰ç«¯ä»£ç è§„èŒƒ
---
# å‰ç«¯ä»£ç è§„èŒƒ
## JavaScript ä¹¦å†™è§„èŒƒ
### åŸºæœ¬ä¹¦å†™
>ä¸è¦æ··åˆä½¿ç”¨ç©ºæ ¼ä¸åˆ¶è¡¨ç¬¦ä½œä¸ºç¼©è¿›
#### `ä½¿ç”¨ä¸¤ä¸ªç©ºæ ¼è¿›è¡Œç¼©è¿›`
>ç”¨ProxyåŒ…è£…çš„ç›®æ ‡å¯¹è±¡ï¼ˆå¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„å¯¹è±¡ï¼ŒåŒ…æ‹¬åŸç”Ÿæ•°ç»„ï¼Œå‡½æ•°ï¼Œç”šè‡³å¦ä¸€ä¸ªä»£ç†ï¼‰ã€‚
```js
function hello (name) {
  console.log('hi', name)   // âœ“ æ­£ç¡®
    console.log('hello', name)   // âœ— é”™è¯¯
}
```
#### `é™¤äº†ç¼©è¿›ï¼Œä¸è¦ä½¿ç”¨å¤šä¸ªç©ºæ ¼`
```js
const id =    1234    // âœ— é”™è¯¯
const id = 1234       // âœ“ æ­£ç¡®
```
#### `ä¸è¦åœ¨å¥æœ«ä½¿ç”¨åˆ†å·`
```js
const a = 'a'   // âœ“ æ­£ç¡®
const a = 'a';  // âœ— é”™è¯¯
```
#### `ä»£ç å—ä¸­é¿å…å¤šä½™ç•™ç™½`
```js
if (user) {
                            // âœ— é”™è¯¯
  const name = getName()
 
}

if (user) {
  const name = getName()    // âœ“ æ­£ç¡®
}
```
#### `å…³é”®å­—åé¢åŠ ç©ºæ ¼`
```js
if (condition) { ... }   // âœ“ æ­£ç¡®
if(condition) { ... }    // âœ— é”™è¯¯
```
#### `å‡½æ•°å£°æ˜æ—¶æ‹¬å·ä¸å‡½æ•°åé—´åŠ ç©ºæ ¼`
```js
function name (arg) { ... }   // âœ“ æ­£ç¡®
function name(arg) { ... }    // âœ— é”™è¯¯

run(function () { ... })      // âœ“ æ­£ç¡®
run(function() { ... })       // âœ— é”™è¯¯
```
#### `é‡åˆ°åˆ†å·æ—¶ç©ºæ ¼è¦åç•™å‰ä¸ç•™`
```js
for (let i = 0 ;i < items.length ;i++) {...}    // âœ— é”™è¯¯
for (let i = 0; i < items.length; i++) {...}    // âœ“ æ­£ç¡®
```
#### `ä»£ç å—é¦–å°¾ç•™ç©ºæ ¼`
```js
if (admin){...}     // âœ— é”™è¯¯
if (admin) {...}    // âœ“ æ­£ç¡®
```
#### `åœ†æ‹¬å·é—´ä¸ç•™ç©ºæ ¼`
```js
getName( name )     // âœ— é”™è¯¯
getName(name)       // âœ“ æ­£ç¡®
```
#### `ä¸€å…ƒè¿ç®—ç¬¦å‰é¢è·Ÿä¸€ä¸ªç©ºæ ¼
```js
typeof!admin        // âœ— é”™è¯¯
typeof !admin        // âœ“ æ­£ç¡®
```
#### `æ³¨é‡Šé¦–å°¾ç•™ç©ºæ ¼`
```js
//comment           // âœ— é”™è¯¯
// comment          // âœ“ æ­£ç¡®

/*comment*/         // âœ— é”™è¯¯
/* comment */       // âœ“ æ­£ç¡®
```
#### `æ¨¡æ¿å­—ç¬¦ä¸²ä¸­å˜é‡å‰åä¸åŠ ç©ºæ ¼`
```js
const message = `Hello, ${ name }`    // âœ— é”™è¯¯
const message = `Hello, ${name}`      // âœ“ æ­£ç¡®
```
#### `é€—å·åé¢åŠ ç©ºæ ¼`
```js
// âœ“ æ­£ç¡®
const list = [1, 2, 3, 4]
function greet (name, options) { ... }
// âœ— é”™è¯¯
const list = [1,2,3,4]
function greet (name,options) { ... }
```
#### `ä¸å…è®¸æœ‰è¿ç»­å¤šè¡Œç©ºè¡Œ`
```js
// âœ“ æ­£ç¡®
const value = 'hello world'
console.log(value)
// âœ— é”™è¯¯
const value = 'hello world'


console.log(value)
```
#### `å•è¡Œä»£ç å—ä¸¤è¾¹åŠ ç©ºæ ¼`
```js
function foo () {return true}    // âœ— é”™è¯¯
function foo () { return true }  // âœ“ æ­£ç¡®
if (condition) { return true }  // âœ“ æ­£ç¡®
```
#### `å§‹ç»ˆå°†é€—å·ç½®äºè¡Œæœ«`
```js
const obj = {
  foo: 'foo'
  ,bar: 'bar'   // âœ— é”™è¯¯
}

const obj = {
  foo: 'foo',
  bar: 'bar'   // âœ“ æ­£ç¡®
}
```
#### `ç‚¹å·æ“ä½œç¬¦é¡»ä¸å±æ€§éœ€åœ¨åŒä¸€è¡Œ`
```js
console.log('hello')  // âœ“ æ­£ç¡®

console.
  log('hello')  // âœ— é”™è¯¯

console
  .log('hello') // âœ“ æ­£ç¡®
```
#### `é”®å€¼å¯¹å½“ä¸­å†’å·ä¸å€¼ä¹‹é—´è¦ç•™ç©ºç™½`
```js
const obj = { 'key' : 'value' }    // âœ— é”™è¯¯
const obj = { 'key' :'value' }     // âœ— é”™è¯¯
const obj = { 'key':'value' }      // âœ— é”™è¯¯
const obj = { 'key': 'value' }     // âœ“ æ­£ç¡®
```
#### `æ¨¡æ¿å­—ç¬¦ä¸²ä¸­å˜é‡å‰åä¸åŠ ç©ºæ ¼`
```js
const message = `Hello, ${ name }`    // âœ— é”™è¯¯
const message = `Hello, ${name}`      // âœ“ æ­£ç¡®
```
#### `æ¨¡æ¿å­—ç¬¦ä¸²ä¸­å˜é‡å‰åä¸åŠ ç©ºæ ¼`
```js
const message = `Hello, ${ name }`    // âœ— é”™è¯¯
const message = `Hello, ${name}`      // âœ“ æ­£ç¡®
```
#### `æ¨¡æ¿å­—ç¬¦ä¸²ä¸­å˜é‡å‰åä¸åŠ ç©ºæ ¼`
```js
const message = `Hello, ${ name }`    // âœ— é”™è¯¯
const message = `Hello, ${name}`      // âœ“ æ­£ç¡®
```
#### `æ¨¡æ¿å­—ç¬¦ä¸²ä¸­å˜é‡å‰åä¸åŠ ç©ºæ ¼`
```js
const message = `Hello, ${ name }`    // âœ— é”™è¯¯
const message = `Hello, ${name}`      // âœ“ æ­£ç¡®
```
#### `æ¨¡æ¿å­—ç¬¦ä¸²ä¸­å˜é‡å‰åä¸åŠ ç©ºæ ¼`
```js
const message = `Hello, ${ name }`    // âœ— é”™è¯¯
const message = `Hello, ${name}`      // âœ“ æ­£ç¡®
```
#### `æ¨¡æ¿å­—ç¬¦ä¸²ä¸­å˜é‡å‰åä¸åŠ ç©ºæ ¼`
```js
const message = `Hello, ${ name }`    // âœ— é”™è¯¯
const message = `Hello, ${name}`      // âœ“ æ­£ç¡®
```
### `å˜é‡å®šä¹‰`
#### `ä½¿ç”¨ const/let å®šä¹‰å˜é‡`
>å½“å‰ä½œç”¨åŸŸä¸éœ€è¦æ”¹å˜çš„å˜é‡ä½¿ç”¨ constï¼Œåä¹‹åˆ™ä½¿ç”¨ let
```js
const a = 'a'
a = 'b'   // âœ— é”™è¯¯ï¼Œè¯·ä½¿ç”¨ let å®šä¹‰

let test = 'test'

var noVar = 'hello, world'   // âœ— é”™è¯¯ï¼Œè¯·ä½¿ç”¨ const/let å®šä¹‰å˜é‡
```
#### `æ¯ä¸ª const/let å…³é”®å­—å•ç‹¬å£°æ˜ä¸€ä¸ªå˜é‡`
```js
// âœ“ æ­£ç¡®
const silent = true
let verbose = true

// âœ— é”™è¯¯
const silent = true, verbose = true

// âœ— é”™è¯¯
let silent = true,
    verbose = true
```
#### `ä¸è¦é‡å¤å£°æ˜å˜é‡`
```js
let name = 'John'
let name = 'Jane'     // âœ— é”™è¯¯

let name = 'John'
name = 'Jane'         // âœ“ æ­£ç¡®
```
#### `ä¸è¦ä½¿ç”¨ undefined æ¥åˆå§‹åŒ–å˜é‡`
```js
let name = undefined    // âœ— é”™è¯¯

let name
name = 'value'          // âœ“ æ­£ç¡®
```
#### `å¯¹äºå˜é‡å’Œå‡½æ•°åç»Ÿä¸€ä½¿ç”¨é©¼å³°å‘½åæ³•`
```js
function my_function () { }    // âœ— é”™è¯¯
function myFunction () { }     // âœ“ æ­£ç¡®

const my_var = 'hello'           // âœ— é”™è¯¯
const myVar = 'hello'            // âœ“ æ­£ç¡®
```
#### `ä¸è¦å®šä¹‰æœªä½¿ç”¨çš„å˜é‡`
```js
function myFunction () {
  const result = something()   // âœ— é”™è¯¯
}
```
#### `é¿å…å°†å˜é‡èµ‹å€¼ç»™è‡ªå·±`
```js
name = name   // âœ— é”™è¯¯
```

### `åŸºæœ¬ç±»å‹`
#### `å­—ç¬¦ä¸²æ‹¼æ¥æ“ä½œç¬¦ (Infix operators) ä¹‹é—´è¦ç•™ç©ºæ ¼`
```js
// âœ“ æ­£ç¡®
const x = 2
const message = 'hello, ' + name + '!'
// âœ— é”™è¯¯
const x=2
const message = 'hello, '+name+'!'
```
#### `ä¸è¦ä½¿ç”¨å¤šè¡Œå­—ç¬¦ä¸²`
```js
const message = 'Hello \
                 world'     // âœ— é”™è¯¯
```
#### `æ£€æŸ¥ NaN çš„æ­£ç¡®å§¿åŠ¿æ˜¯ä½¿ç”¨ isNaN()`
```js
if (price === NaN) { }      // âœ— é”™è¯¯
if (isNaN(price)) { }       // âœ“ æ­£ç¡®
```


### `å¯¹è±¡ä¸æ•°ç»„`
#### `å¯¹è±¡ä¸­å®šä¹‰äº†å­˜å€¼å™¨ï¼Œä¸€å®šè¦å¯¹åº”çš„å®šä¹‰å–å€¼å™¨`
```js
const person = {
  set name (value) {    // âœ— é”™è¯¯
    this._name = value
  }
}

const person = {
  set name (value) {
    this._name = value
  },
  get name () {         // âœ“ æ­£ç¡®
    return this._name
  }
}
```
#### `ä¸è¦è§£æ„ç©ºå€¼`
```js
const { a: {} } = foo         // âœ— é”™è¯¯
const { a: { b } } = foo      // âœ“ æ­£ç¡®
```
#### `å¯¹è±¡å­—é¢é‡ä¸­ä¸è¦å®šä¹‰é‡å¤çš„å±æ€§`
```js
const user = {
  name: 'Jane Doe',
  name: 'John Doe'    // âœ— é”™è¯¯
}
```
#### `å¤–éƒ¨å˜é‡ä¸è¦ä¸å¯¹è±¡å±æ€§é‡å`
```js
let score = 100
function game () {
  score: while (true) {      // âœ— é”™è¯¯
    score -= 10
    if (score > 0) continue score
    break
  }
}
```
#### `å¯¹è±¡å±æ€§æ¢è¡Œæ—¶æ³¨æ„ç»Ÿä¸€ä»£ç é£æ ¼`
```js
const user = {
  name: 'Jane Doe', age: 30,
  username: 'jdoe86'            // âœ— é”™è¯¯
}

const user = { name: 'Jane Doe', age: 30, username: 'jdoe86' }    // âœ“ æ­£ç¡®

const user = {
  name: 'Jane Doe',
  age: 30,
  username: 'jdoe86'
}
```
### `ç±»å®šä¹‰`
#### `ç±»åè¦ä»¥å¤§å†™å­—æ¯å¼€å¤´`
```js
class animal {}
const dog = new animal()    // âœ— é”™è¯¯

class Animal {}
const dog = new Animal()    // âœ“ æ­£ç¡®
```
#### `é¿å…å¯¹ç±»åé‡æ–°èµ‹å€¼`
```js
class Dog {}
Dog = 'Fido'    // âœ— é”™è¯¯
```
#### `å­ç±»çš„æ„é€ å™¨ä¸­ä¸€å®šè¦è°ƒç”¨ super`
```js
class Dog {
  constructor () {
    super()   // âœ— é”™è¯¯
  }
}

class Dog extends Mammal {
  constructor () {
    super()   // âœ“ æ­£ç¡®
  }
}
```
#### `é¿å…å¯¹ç±»åé‡æ–°èµ‹å€¼`
```js
class Dog {}
Dog = 'Fido'    // âœ— é”™è¯¯
```
#### `ä½¿ç”¨ this å‰è¯·ç¡®ä¿ super() å·²è°ƒç”¨`
```js
class Dog extends Animal {
  constructor () {
    this.legs = 4     // âœ— é”™è¯¯
    super()
  }
}
```
#### `ç¦æ­¢å¤šä½™çš„æ„é€ å™¨`
```js
class Car {
  constructor () {      // âœ— é”™è¯¯
  }
}

class Car {
  constructor () {      // âœ— é”™è¯¯
    super()
  }
}
```
#### `æ— å‚çš„æ„é€ å‡½æ•°è°ƒç”¨æ—¶è¦å¸¦ä¸Šæ‹¬å·`
```js
function Animal () {}
const dog = new Animal    // âœ— é”™è¯¯
const dog = new Animal()  // âœ“ æ­£ç¡®
```
#### `new åˆ›å»ºå¯¹è±¡å®ä¾‹åéœ€è¦èµ‹å€¼ç»™å˜é‡`
```js
new Character()                     // âœ— é”™è¯¯
const character = new Character()   // âœ“ æ­£ç¡®
```


### `æ¨¡å—`
#### `åŒä¸€æ¨¡å—æœ‰å¤šä¸ªå¯¼å…¥æ—¶ä¸€æ¬¡æ€§å†™å®Œ`
```js
import { myFunc1 } from 'module'
import { myFunc2 } from 'module'          // âœ— é”™è¯¯

import { myFunc1, myFunc2 } from 'module' // âœ“ æ­£ç¡®
```
#### `import, export å’Œè§£æ„æ“ä½œä¸­ï¼Œç¦æ­¢èµ‹å€¼åˆ°åŒåå˜é‡`
```js
import { config as config } from './config'     // âœ— é”™è¯¯
import { config } from './config'               // âœ“ æ­£ç¡®
```



### `é€»è¾‘ä¸å¾ªç¯`
#### `å§‹ç»ˆä½¿ç”¨ === æ›¿ä»£ ==`
>ä¾‹å¤–ï¼š obj == null å¯ä»¥ç”¨æ¥æ£€æŸ¥ null || undefined
```js
if (name === 'John')   // âœ“ æ­£ç¡®
if (name == 'John')    // âœ— é”™è¯¯
if (name !== 'John')   // âœ“ æ­£ç¡®
if (name != 'John')    // âœ— é”™è¯¯
```
#### `if/else å…³é”®å­—è¦ä¸èŠ±æ‹¬å·ä¿æŒåœ¨åŒä¸€è¡Œ`
```js
// âœ“ æ­£ç¡®
if (condition) {
  // ...
} else {
  // ...
}
// âœ— é”™è¯¯
if (condition)
{
  // ...
}
else
{
  // ...
}
```
#### `å¤šè¡Œ if è¯­å¥çš„çš„æ‹¬å·ä¸èƒ½çœç•¥`
```js
// âœ“ æ­£ç¡®
if (options.quiet !== true) console.log('done')
// âœ“ æ­£ç¡®
if (options.quiet !== true) {
  console.log('done')
}
// âœ— é”™è¯¯
if (options.quiet !== true)
  console.log('done')
```
#### `å¯¹äºä¸‰å…ƒè¿ç®—ç¬¦ ? å’Œ : ä¸ä»–ä»¬æ‰€è´Ÿè´£çš„ä»£ç å¤„äºåŒä¸€è¡Œ
`
```js
// âœ“ æ­£ç¡®
const location = env.development ? 'localhost' : 'www.api.com'

// âœ— é”™è¯¯
const location = env.development ?
  'localhost' :
  'www.api.com'
```
#### `è¯·ä¹¦å†™ä¼˜é›…çš„æ¡ä»¶è¯­å¥ï¼ˆavoid Yoda conditionsï¼‰`
```js
if (42 === age) { }    // âœ— é”™è¯¯
if (age === 42) { }    // âœ“ æ­£ç¡®
```
#### `é¿å…ä½¿ç”¨å¸¸é‡ä½œä¸ºæ¡ä»¶è¡¨è¾¾å¼çš„æ¡ä»¶ï¼ˆå¾ªç¯è¯­å¥é™¤å¤–ï¼‰`
```js
if (false) {    // âœ— é”™è¯¯
  // ...
}

if (x === 0) {  // âœ“ æ­£ç¡®
  // ...
}

while (true) {  // âœ“ æ­£ç¡®
  // ...
}
```
#### `å¾ªç¯è¯­å¥ä¸­æ³¨æ„æ›´æ–°å¾ªç¯å˜é‡`
```js
for (let i = 0; i < items.length; j++) {...}    // âœ— é”™è¯¯
for (let i = 0; i < items.length; i++) {...}    // âœ“ æ­£ç¡®
```
#### `å¦‚æœæœ‰æ›´å¥½çš„å®ç°ï¼Œå°½é‡ä¸è¦ä½¿ç”¨ä¸‰å…ƒè¡¨è¾¾å¼`
```js
let score = val ? val : 0     // âœ— é”™è¯¯
let score = val || 0          // âœ“ æ­£ç¡®
```
#### `switch ä¸€å®šè¦ä½¿ç”¨ break æ¥å°†æ¡ä»¶åˆ†æ”¯æ­£å¸¸ä¸­æ–­`
```js
switch (filter) {
  case 1:
    doSomething()    // âœ— é”™è¯¯
  case 2:
    doSomethingElse()
}

switch (filter) {
  case 1:
    doSomething()
    break           // âœ“ æ­£ç¡®
  case 2:
    doSomethingElse()
}
```
#### `é¿å…ä¸å¿…è¦çš„å¸ƒå°”è½¬æ¢`
```js
const result = true
if (!!result) {   // âœ— é”™è¯¯
  // ...
}

const result = true
if (result) {     // âœ“ æ­£ç¡®
  // ...
}
```
#### `é¿å…ä½¿ç”¨é€—å·æ“ä½œç¬¦`
```js
if (doSomething(), !!test) {}   // âœ— é”™è¯¯
```