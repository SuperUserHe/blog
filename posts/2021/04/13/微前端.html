<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ğŸš€å¾®å‰ç«¯ | PINEHE-BLOG</title>
    <meta name="description" content="å½“æˆ‘æ²‰é»˜çš„æ—¶å€™ï¼Œæˆ‘è§‰å¾—å¾ˆå……å®ï¼Œå½“æˆ‘å¼€å£è¯´è¯ï¼Œå°±æ„Ÿåˆ°äº†ç©ºè™šã€‚">
    
    
    <link rel="preload" href="/blog/assets/js/vendor.vue.5f1db0b8.js" as="script"><link rel="preload" href="/blog/assets/css/1.styles.62f82482.css" as="style"><link rel="preload" href="/blog/assets/js/vendor.commons.62f82482.js" as="script"><link rel="preload" href="/blog/assets/css/styles.fe65c3d9.css" as="style"><link rel="preload" href="/blog/assets/js/app.fe65c3d9.js" as="script"><link rel="preload" href="/blog/assets/css/styles.fe65c3d9.css" as="style"><link rel="preload" href="/blog/assets/css/8.styles.b27390c7.css" as="style"><link rel="preload" href="/blog/assets/js/8.b27390c7.js" as="script"><link rel="preload" href="/blog/assets/js/16.8c2128b8.js" as="script"><link rel="prefetch" href="/blog/assets/css/0.styles.3df2d085.css"><link rel="prefetch" href="/blog/assets/css/4.styles.a55d13b0.css"><link rel="prefetch" href="/blog/assets/css/5.styles.f5cce582.css"><link rel="prefetch" href="/blog/assets/css/6.styles.72588e95.css"><link rel="prefetch" href="/blog/assets/css/7.styles.6c9f8648.css"><link rel="prefetch" href="/blog/assets/js/0.3df2d085.js"><link rel="prefetch" href="/blog/assets/js/10.593b99a1.js"><link rel="prefetch" href="/blog/assets/js/11.5fc3c348.js"><link rel="prefetch" href="/blog/assets/js/12.8523f4b0.js"><link rel="prefetch" href="/blog/assets/js/13.2b0155fa.js"><link rel="prefetch" href="/blog/assets/js/14.4289d8c1.js"><link rel="prefetch" href="/blog/assets/js/15.84b27882.js"><link rel="prefetch" href="/blog/assets/js/17.3a1e5861.js"><link rel="prefetch" href="/blog/assets/js/18.1ccb3259.js"><link rel="prefetch" href="/blog/assets/js/19.63af8e22.js"><link rel="prefetch" href="/blog/assets/js/20.e6edaef8.js"><link rel="prefetch" href="/blog/assets/js/21.ed785718.js"><link rel="prefetch" href="/blog/assets/js/22.d2c06802.js"><link rel="prefetch" href="/blog/assets/js/23.5325aee8.js"><link rel="prefetch" href="/blog/assets/js/24.dbb5878a.js"><link rel="prefetch" href="/blog/assets/js/25.169bfe23.js"><link rel="prefetch" href="/blog/assets/js/26.23e44f9c.js"><link rel="prefetch" href="/blog/assets/js/27.a32093da.js"><link rel="prefetch" href="/blog/assets/js/28.3b2289e5.js"><link rel="prefetch" href="/blog/assets/js/29.343b0704.js"><link rel="prefetch" href="/blog/assets/js/30.eaccaf93.js"><link rel="prefetch" href="/blog/assets/js/4.a55d13b0.js"><link rel="prefetch" href="/blog/assets/js/5.f5cce582.js"><link rel="prefetch" href="/blog/assets/js/6.72588e95.js"><link rel="prefetch" href="/blog/assets/js/7.6c9f8648.js"><link rel="prefetch" href="/blog/assets/js/9.6f7602a8.js">
    <link rel="stylesheet" href="/blog/assets/css/1.styles.62f82482.css"><link rel="stylesheet" href="/blog/assets/css/styles.fe65c3d9.css"><link rel="stylesheet" href="/blog/assets/css/styles.fe65c3d9.css"><link rel="stylesheet" href="/blog/assets/css/8.styles.b27390c7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-neon"><header class="header" style="background-size:cover;background-repeat:no-repeat;background-position:center;background-attachment:scroll;background-image:url(https://yz.lol.qq.com/v1/assets/images/bilgewater-high-and-dry.jpg);" data-v-7ef4a8f4><div data-v-7c9b6a1e data-v-7ef4a8f4><nav class="navbar" data-v-7c9b6a1e><div class="container" data-v-7c9b6a1e><a href="/blog/" class="router-link-active" data-v-7c9b6a1e><span class="navbar-site-name" data-v-7c9b6a1e>
          PINEHE-BLOG
        </span></a> <div class="navbar-toggler" data-v-7c9b6a1e><svg class="icon" style="font-size:1.2em;" data-v-7c9b6a1e data-v-7c9b6a1e><title data-v-7c9b6a1e data-v-7c9b6a1e>menu</title><use xlink:href="#icon-menu" data-v-7c9b6a1e data-v-7c9b6a1e></use></svg></div> <div class="navbar-links" data-v-7c9b6a1e><a href="/blog/" class="navbar-link" data-v-7c9b6a1e>
            Home
          </a><a href="/blog/posts/" class="navbar-link router-link-active" data-v-7c9b6a1e>
            Posts
          </a><a href="/blog/custom-pages/" class="navbar-link" data-v-7c9b6a1e>
            Custom Pages
          </a><a href="https://github.com/superuserhe/blog" target="_blank" rel="noopener noreferrer" class="navbar-link" data-v-7c9b6a1e>
            Github
          </a></div></div></nav> <div class="navbar-holder" style="display:none;" data-v-7c9b6a1e></div></div> <div class="banner" data-v-e924d6e4 data-v-7ef4a8f4 data-v-7ef4a8f4><div class="container" data-v-e924d6e4><div class="center" data-v-e924d6e4><h1 data-v-e924d6e4 data-v-7ef4a8f4>
          ğŸš€å¾®å‰ç«¯
        </h1></div></div></div></header> <div class="container clearfix show-aside" data-v-2c3a28f0 data-v-2c3a28f0><main class="main" data-v-2c3a28f0><div class="post" data-v-2c3a28f0 data-v-2c3a28f0><section class="post-meta main-div" data-v-1956e4d1><section class="post-date clearfix" data-v-1956e4d1><span class="create-date" data-v-1956e4d1>
      å‘å¸ƒæ—¶é—´ : 2021-04-13
    </span> <span class="update-date" data-v-1956e4d1>
      æœ€åä¿®æ”¹ : 2021-04-14
    </span></section> <section class="post-links" data-v-1956e4d1><a href="/blog/posts/2020/06/02/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html" class="post-link" data-v-1956e4d1>
      ä¸Šä¸€ç¯‡ : ğŸš€å‰ç«¯ä»£ç è§„èŒƒ
    </a> <a href="/blog/posts/2021/06/11/%E4%BD%BF%E7%94%A8react-%E5%8E%9F%E7%90%86%EF%BC%8C%E4%BC%98%E5%8C%96%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E5%8D%A1%E6%AD%BB%E9%97%AE%E9%A2%98.html" class="post-link" data-v-1956e4d1>
      ä¸‹ä¸€ç¯‡ : ğŸš€ä½¿ç”¨react åŸç†ï¼Œä¼˜åŒ–é¡µé¢æ¸²æŸ“å¡æ­»é—®é¢˜
    </a></section></section> <article class="main-div"><div class="post-content content default"><h1 id="å¾®å‰ç«¯"><a href="#å¾®å‰ç«¯" aria-hidden="true" class="header-anchor">#</a> å¾®å‰ç«¯</h1> <p>æŠ€æœ¯åœˆæ˜¯æ¯”è¾ƒçˆ±ç‚’æ¦‚å¿µçš„ï¼Œ<code>ä¸­å°</code>ã€<code>å¾®æœåŠ¡</code>ã€<code>DDD</code>ä¸€æ—¶éƒ½å˜æˆæ¯”è¾ƒçƒ­é—¨çš„è¯é¢˜ï¼Œå¾®å‰ç«¯ä½œä¸ºå¾®æœåŠ¡çš„ä¸€ç§è‡ªç„¶ä¹Ÿå…ä¸äº†ä¿—ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹å¤§å¤šæ•°å…¬å¸éƒ½ç”¨ä¸ä¸Šå¾®å‰ç«¯ã€‚å½“ç„¶å¾®å‰ç«¯ä¸æ˜¯ä»€ä¹ˆæ–°æŠ€æœ¯ï¼Œåªæ˜¯ä¸ºäº†è§£å†³å®é™…é—®é¢˜çš„ä¸€ç§æ–¹æ³•ã€‚å¾®å‰ç«¯è¿™ä¸‰ä¸ªå­—å¬èµ·æ¥ä¸æ˜æ‰€ä»¥ï¼Œå®é™…ä¸Šåªæ˜¯å°†é¡¹ç›®æ‰“æ•£ï¼Œå˜æˆè‹¥å¹²å°é¡¹ç›®çš„åˆé›†ï¼Œä½¿ç”¨ä¸€ç§æ–¹æ¡ˆä½¿å¾—åœ¨å¤šä¸ªé¡¹ç›®ä¹‹å‰å¹³æ»‘åˆ‡æ¢çš„æ–¹æ³•ã€‚</p> <h2 id="ä¸ºä»€ä¹ˆéœ€è¦å¾®å‰ç«¯"><a href="#ä¸ºä»€ä¹ˆéœ€è¦å¾®å‰ç«¯" aria-hidden="true" class="header-anchor">#</a> ä¸ºä»€ä¹ˆéœ€è¦å¾®å‰ç«¯</h2> <p>å‰é¢è¯´è¿‡ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬æ˜¯ä¸éœ€è¦å¾®å‰ç«¯çš„ï¼Œé€šè¿‡æ¸…æ™°çš„ç»„ä»¶åˆ’åˆ†ï¼Œéƒ¨åˆ†æƒ…å†µä¸‹ä½¿ç”¨ <code>iframe</code> åµŒå…¥å°±èƒ½è§£å†³ç»å¤§éƒ¨åˆ†é—®é¢˜ã€‚ä½†æ˜¯å¾®å‰ç«¯å¯¹ä¸‹é¢çš„é—®é¢˜è§£å†³èµ·æ¥æ›´æœ‰ä¼˜åŠ¿ï¼š</p> <ol><li>è¿­ä»£æ—¥ç§¯æœˆç´¯å¯¼è‡´ç»´æŠ¤å›°éš¾
ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸè¶…é•¿çš„è½¯ä»¶ï¼Œå¿…ç„¶äº§ç”Ÿå‡ºä¸€ä¸ªä½“ç§¯åºå¤§çš„è½¯ä»¶ã€‚è½¯ä»¶ä¼šå›Šæ‹¬å„ç§äº¤é”™å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼Œé˜…è¯»ç»´æŠ¤èµ·æ¥ç‰¹åˆ«å›°éš¾ã€‚å‰ç«¯é¡¹ç›®ä½“ç§¯æ»‹é•¿è¿˜ä¼šä½¿ç¼–è¯‘æ—¶é—´è¶Šæ¥è¶Šé•¿ï¼Œæœ¬åœ°å¼€å‘çƒ­æ›´æ–°æ—¶ç”µè„‘åƒåŠ›ï¼Œå¡æœºã€‚</li> <li>è·¨å›¢é˜Ÿå¼€å‘
è‹¥åŒä¸€é¡¹ç›®äº¤ç»™å¤šä¸ªå›¢é˜ŸåŒæ—¶å¼€å‘ï¼Œç”±äºæ˜¯åŒä¸€é¡¹ç›®åŒä¸€ä»“åº“ï¼Œå›¢é˜Ÿå¼€å‘çš„èµ„æºå¹¶æ²¡æœ‰éš”ç¦»ç»å¸¸ä¼šå¯¼è‡´ä»£ç å†²çªï¼Œäº’ç›¸å½±å“ä¸šåŠ¡åŠŸèƒ½ï¼Œé€ æˆå¼€å‘é£é™©ã€‚</li> <li>æŠ€æœ¯æ ˆå¤šæ ·æ€§
å…¬å¸åœ¨é€æ­¥æ‰©å¤§ä¸šåŠ¡ï¼Œæ°¸è¿œæœ‰æ–°çš„ä¸šåŠ¡éœ€è¦ä¸Šçº¿ï¼Œæ°¸è¿œæœ‰æ–°çš„æŠ€æœ¯æ ˆåœ¨å°è¯•ã€‚åºå¤§çš„å•ä½“è½¯ä»¶å¾ˆéš¾åŒæ—¶è¿è¡Œå¤šä¸ªæŠ€æœ¯æ ˆï¼Œå¾ˆéš¾åœ¨ä¸šåŠ¡ä¸­å°è¯•ä½¿ç”¨æ–°çš„æŠ€æœ¯ï¼Œä¸¾æ­¥ç»´è‰°ã€‚</li></ol> <h2 id="æŠ€æœ¯æ–¹æ¡ˆ"><a href="#æŠ€æœ¯æ–¹æ¡ˆ" aria-hidden="true" class="header-anchor">#</a> æŠ€æœ¯æ–¹æ¡ˆ</h2> <ol><li><code>iframe</code> åµŒå¥—å¤šä¸ªå­é¡¹ç›®</li> <li><code>MPA</code> å¤šå­é¡¹ç›®ä¹‹å‰é€šè¿‡é“¾æ¥è·³è½¬</li> <li>æ•´åˆå¤šä¸ªå­é¡¹ç›®èµ„æºï¼Œç”±ä¸»é¡¹ç›®åŠ¨æ€å¯¼èˆªä¸åŒçš„å­é¡¹ç›®</li></ol> <hr> <p>è¿™é‡Œé‡ç‚¹ä»‹ç»ç¬¬ä¸‰ç§ï¼Œ æ¯”è¾ƒçŸ¥åçš„å¼€æºæ–¹æ¡ˆ<code>Qiankun</code>ã€‚
<code>Qiankun</code> ä½¿ç”¨äº† <code>single-SPA</code> çš„è·¯ç”±ç³»ç»Ÿï¼Œä¸”å®ç°äº†ä¸€ä¸ª <code>sandbox</code>ï¼Œç”¨æ¥éš”ç¦» <code>js</code> è¿è¡Œç¯å¢ƒ</p> <hr> <p>ä»¥<code>Vue</code>ä½œä¸ºä¸»åº”ç”¨åŸºåº§æ³¨å†Œå­åº”ç”¨ç¤ºä¾‹</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// src/micro/index.ts</span>
<span class="token keyword">import</span> NProgress <span class="token keyword">from</span> <span class="token string">&quot;nprogress&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;nprogress/nprogress.css&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> message <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;ant-design-vue&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// å½“å‰ç‰ˆæœ¬ qiankun å¯¹ insertBefore å¤„ç†æœ‰é—®é¢˜ï¼Œè¿™é‡Œå…ˆä½¿ç”¨ä¿®æ”¹åçš„æœ¬åœ°åŒ…  esæ–‡ä»¶å°±æ˜¯ä¸‹è½½çš„ä¿®æ”¹åçš„æœ¬åœ°åŒ…</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  registerMicroApps<span class="token punctuation">,</span>
  addGlobalUncaughtErrorHandler<span class="token punctuation">,</span>
  runAfterFirstMounted<span class="token punctuation">,</span>
  start<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./es&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> shared <span class="token keyword">from</span> <span class="token string">&quot;@/shared&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> apps <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token comment">/**
     * name: å¾®åº”ç”¨åç§° - å…·æœ‰å”¯ä¸€æ€§
     * entry: å¾®åº”ç”¨å…¥å£ - é€šè¿‡è¯¥åœ°å€åŠ è½½å¾®åº”ç”¨
     * container: å¾®åº”ç”¨æŒ‚è½½èŠ‚ç‚¹ - å¾®åº”ç”¨åŠ è½½å®Œæˆåå°†æŒ‚è½½åœ¨è¯¥èŠ‚ç‚¹ä¸Š
     * activeRule: å¾®åº”ç”¨è§¦å‘çš„è·¯ç”±è§„åˆ™ - è§¦å‘è·¯ç”±è§„åˆ™åå°†åŠ è½½è¯¥å¾®åº”ç”¨
     * props: ä¸»åº”ç”¨ç»™å¾®åº”ç”¨ä¼ çš„å€¼
  */</span>
  <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">&quot;ReactMicroApp&quot;</span><span class="token punctuation">,</span>
    entry<span class="token punctuation">:</span> <span class="token string">&quot;//localhost:10100&quot;</span><span class="token punctuation">,</span>
    container<span class="token punctuation">:</span> <span class="token string">&quot;#frame&quot;</span><span class="token punctuation">,</span>
    activeRule<span class="token punctuation">:</span> <span class="token string">&quot;/react&quot;</span><span class="token punctuation">,</span>
    props<span class="token punctuation">:</span> <span class="token punctuation">{</span> shared <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token comment">/**
    * å‚æ•°
    * apps - Array&lt;RegistrableApp&gt; - å¿…é€‰ï¼Œå¾®åº”ç”¨çš„ä¸€äº›æ³¨å†Œä¿¡æ¯
    * lifeCycles - LifeCycles - å¯é€‰ï¼Œå…¨å±€çš„å¾®åº”ç”¨ç”Ÿå‘½å‘¨æœŸé’©å­
 */</span>
<span class="token function">registerMicroApps</span><span class="token punctuation">(</span>apps<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// qiankun ç”Ÿå‘½å‘¨æœŸé’©å­ - å¾®åº”ç”¨åŠ è½½å‰</span>
  beforeLoad<span class="token punctuation">:</span> <span class="token punctuation">(</span>app<span class="token punctuation">:</span> any<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    NProgress<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;before load&quot;</span><span class="token punctuation">,</span> app<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// qiankun ç”Ÿå‘½å‘¨æœŸé’©å­ - å¾®åº”ç”¨æŒ‚è½½å</span>
  afterMount<span class="token punctuation">:</span> <span class="token punctuation">(</span>app<span class="token punctuation">:</span> any<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    NProgress<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;after mount&quot;</span><span class="token punctuation">,</span> app<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * æ·»åŠ å…¨å±€çš„æœªæ•è·å¼‚å¸¸å¤„ç†å™¨
 */</span>
<span class="token function">addGlobalUncaughtErrorHandler</span><span class="token punctuation">(</span><span class="token punctuation">(</span>event<span class="token punctuation">:</span> Event <span class="token operator">|</span> string<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> message<span class="token punctuation">:</span> msg <span class="token punctuation">}</span> <span class="token operator">=</span> event <span class="token keyword">as</span> any<span class="token punctuation">;</span>
   <span class="token comment">// åŠ è½½å¤±è´¥æ—¶æç¤º</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>msg <span class="token operator">&amp;&amp;</span> msg<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&quot;died in status LOADING_SOURCE_CODE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;å­åº”ç”¨åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥åº”ç”¨æ˜¯å¦å¯è¿è¡Œ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">runAfterFirstMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;[MainApp] first app mounted&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å¯¼å‡º qiankun çš„å¯åŠ¨å‡½æ•°</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> start<span class="token punctuation">;</span>


<span class="token comment">// src/micro/main.ts</span>
<span class="token keyword">import</span> startQiankun <span class="token keyword">from</span> <span class="token string">&quot;./micro&quot;</span><span class="token punctuation">;</span>

<span class="token function">startQiankun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>åœ¨ä¸»åº”ç”¨æ³¨å†Œå¥½äº†å¾®åº”ç”¨åï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¯¹å¾®åº”ç”¨è¿›è¡Œä¸€ç³»åˆ—çš„é…ç½®ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨ <code>React</code> çš„å…¥å£æ–‡ä»¶ <code>index.js</code> ä¸­ï¼Œå¯¼å‡º <code>Qiankun</code> ä¸»åº”ç”¨æ‰€éœ€è¦çš„ä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼Œä»£ç å®ç°å¦‚ä¸‹</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">&quot;react-dom&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;antd/dist/antd.css&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&quot;./App.jsx&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> SharedModule <span class="token keyword">from</span> <span class="token string">&quot;@/shared&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// window.__POWERED_BY_QIANKUN__ä¸ºtrueè¯´æ˜è¿è¡Œåœ¨ä¸»åº”ç”¨å®¹å™¨é‡Œï¼Œ ä¸ºfalseå•ç‹¬å¯åŠ¨è¿è¡Œ</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>window<span class="token punctuation">.</span>__POWERED_BY_QIANKUN__<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span>props <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å½“ä¼ å…¥çš„ shared ä¸ä¸ºç©ºæ—¶ï¼Œåˆ™é‡è½½å­åº”ç”¨çš„ shared</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> shared <span class="token operator">=</span> SharedModule<span class="token punctuation">.</span><span class="token function">getShared</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  SharedModule<span class="token punctuation">.</span><span class="token function">overloadShared</span><span class="token punctuation">(</span>shared<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * bootstrap åªä¼šåœ¨å¾®åº”ç”¨åˆå§‹åŒ–çš„æ—¶å€™è°ƒç”¨ä¸€æ¬¡ï¼Œä¸‹æ¬¡å¾®åº”ç”¨é‡æ–°è¿›å…¥æ—¶ä¼šç›´æ¥è°ƒç”¨ mount é’©å­ï¼Œä¸ä¼šå†é‡å¤è§¦å‘ bootstrapã€‚
 * é€šå¸¸æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œåšä¸€äº›å…¨å±€å˜é‡çš„åˆå§‹åŒ–ï¼Œæ¯”å¦‚ä¸ä¼šåœ¨ unmount é˜¶æ®µè¢«é”€æ¯çš„åº”ç”¨çº§åˆ«çš„ç¼“å­˜ç­‰ã€‚
 */</span>
<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">bootstrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;react app bootstraped&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * åº”ç”¨æ¯æ¬¡è¿›å…¥éƒ½ä¼šè°ƒç”¨ mount æ–¹æ³•ï¼Œé€šå¸¸æˆ‘ä»¬åœ¨è¿™é‡Œè§¦å‘åº”ç”¨çš„æ¸²æŸ“æ–¹æ³•
 */</span>
<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">mount</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;reactApp mount&quot;</span><span class="token punctuation">,</span> props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">render</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * åº”ç”¨æ¯æ¬¡ åˆ‡å‡º/å¸è½½ ä¼šè°ƒç”¨çš„æ–¹æ³•ï¼Œé€šå¸¸åœ¨è¿™é‡Œæˆ‘ä»¬ä¼šå¸è½½å¾®åº”ç”¨çš„åº”ç”¨å®ä¾‹
 */</span>
<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">unmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;react unmount&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ReactDOM<span class="token punctuation">.</span><span class="token function">unmountComponentAtNode</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å­åº”ç”¨éœ€å¯¼å‡º <code>bootstrap</code>ã€<code>mount</code>ã€<code>unmount</code>ã€<code>update</code>ï¼ˆå¯é€‰ï¼‰ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œç”¨äºåœ¨ <code>Qiankun</code> ç”Ÿå‘½å‘¨æœŸä¸­è°ƒç”¨æ¥æŒ‚è½½å’Œå¸è½½å­åº”ç”¨ã€‚
åœ¨é…ç½®å¥½äº†å…¥å£æ–‡ä»¶ <code>index.js</code> åï¼Œæˆ‘ä»¬æ–°å»º <code>config-overrides.js</code> æ–‡ä»¶æ¥é…ç½® <code>webpack</code>ï¼Œä»£ç å®ç°å¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  webpack<span class="token punctuation">:</span> <span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¾®åº”ç”¨çš„åŒ…åï¼Œè¿™é‡Œä¸ä¸»åº”ç”¨ä¸­æ³¨å†Œçš„å¾®åº”ç”¨åç§°ä¸€è‡´</span>
    config<span class="token punctuation">.</span>output<span class="token punctuation">.</span>library <span class="token operator">=</span> <span class="token template-string"><span class="token string">`ReactMicroApp`</span></span><span class="token punctuation">;</span>
    <span class="token comment">// å°†ä½ çš„ library æš´éœ²ä¸ºæ‰€æœ‰çš„æ¨¡å—å®šä¹‰ä¸‹éƒ½å¯è¿è¡Œçš„æ–¹å¼</span>
    config<span class="token punctuation">.</span>output<span class="token punctuation">.</span>libraryTarget <span class="token operator">=</span> <span class="token string">&quot;umd&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// æŒ‰éœ€åŠ è½½ç›¸å…³ï¼Œè®¾ç½®ä¸º webpackJsonp_ReactMicroApp å³å¯</span>
    config<span class="token punctuation">.</span>output<span class="token punctuation">.</span>jsonpFunction <span class="token operator">=</span> <span class="token template-string"><span class="token string">`webpackJsonp_ReactMicroApp`</span></span><span class="token punctuation">;</span>

    config<span class="token punctuation">.</span>resolve<span class="token punctuation">.</span>alias <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>config<span class="token punctuation">.</span>resolve<span class="token punctuation">.</span>alias<span class="token punctuation">,</span>
      <span class="token string">&quot;@&quot;</span><span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;src&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> config<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  devServer<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>configFunction<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>proxy<span class="token punctuation">,</span> allowedHost<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token function">configFunction</span><span class="token punctuation">(</span>proxy<span class="token punctuation">,</span> allowedHost<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// å…³é—­ä¸»æœºæ£€æŸ¥ï¼Œä½¿å¾®åº”ç”¨å¯ä»¥è¢« fetch</span>
      config<span class="token punctuation">.</span>disableHostCheck <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token comment">// é…ç½®è·¨åŸŸè¯·æ±‚å¤´ï¼Œè§£å†³å¼€å‘ç¯å¢ƒçš„è·¨åŸŸé—®é¢˜</span>
      config<span class="token punctuation">.</span>headers <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Access-Control-Allow-Origin&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token comment">// é…ç½® history æ¨¡å¼</span>
      config<span class="token punctuation">.</span>historyApiFallback <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

      <span class="token keyword">return</span> config<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>æˆ‘ä»¬éœ€è¦é‡ç‚¹å…³æ³¨ä¸€ä¸‹ <code>output</code> é€‰é¡¹ï¼Œå½“æˆ‘ä»¬æŠŠ <code>libraryTarget</code> è®¾ç½®ä¸º <code>umd</code> åï¼Œæˆ‘ä»¬çš„ <code>library</code> å°±æš´éœ²ä¸ºæ‰€æœ‰çš„æ¨¡å—å®šä¹‰ä¸‹éƒ½å¯è¿è¡Œçš„æ–¹å¼äº†ï¼Œä¸»åº”ç”¨å°±å¯ä»¥è·å–åˆ°å¾®åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°äº†ã€‚</p> <hr> <h2 id="qiankunçš„æ ¸å¿ƒåŸç†"><a href="#qiankunçš„æ ¸å¿ƒåŸç†" aria-hidden="true" class="header-anchor">#</a> Qiankunçš„æ ¸å¿ƒåŸç†</h2> <ol><li><code>Qiankun</code> å®ç°äº†ä¸€ä¸ª <code>JS sandbox</code>ï¼Œé¿å…å­åº”ç”¨ä¹‹é—´çš„ç¯å¢ƒæ±¡æŸ“
å®ç°é€»è¾‘ï¼š</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> rawWindow <span class="token operator">=</span> window<span class="token punctuation">;</span>
<span class="token keyword">const</span> fakeWindow <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">as</span> Window<span class="token punctuation">;</span>

<span class="token keyword">const</span> sandbox<span class="token punctuation">:</span> WindowProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>fakeWindow<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token keyword">set</span><span class="token punctuation">(</span>_<span class="token punctuation">:</span> Window<span class="token punctuation">,</span> p<span class="token punctuation">:</span> PropertyKey<span class="token punctuation">,</span> value<span class="token punctuation">:</span> any<span class="token punctuation">)</span><span class="token punctuation">:</span> boolean <span class="token punctuation">{</span>
      <span class="token comment">// çœç•¥...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token keyword">get</span><span class="token punctuation">(</span>_<span class="token punctuation">:</span> Window<span class="token punctuation">,</span> p<span class="token punctuation">:</span> PropertyKey<span class="token punctuation">)</span><span class="token punctuation">:</span> any <span class="token punctuation">{</span>
      <span class="token comment">// çœç•¥...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function">has</span><span class="token punctuation">(</span>_<span class="token punctuation">:</span> Window<span class="token punctuation">,</span> p<span class="token punctuation">:</span> string <span class="token operator">|</span> number <span class="token operator">|</span> symbol<span class="token punctuation">)</span><span class="token punctuation">:</span> boolean <span class="token punctuation">{</span>
      <span class="token keyword">return</span> p <span class="token keyword">in</span> rawWindow<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>Qiankun</code> é€šè¿‡ <code>Proxy</code> æ‹¦æˆªäº† <code>fakeWindow</code> å¯¹è±¡ï¼Œåœ¨ä½¿ç”¨ä»–ä»¬ç¼–å†™çš„æ’ä»¶ <code>import-html-entry</code> <code>load</code> å­åº”ç”¨ <code>js</code> æ—¶å°†å…¶ä½œä¸ºå­åº”ç”¨çš„ <code>window</code>ï¼Œå¹¶ä¸”æ¯ä¸ªå­åº”ç”¨ç”Ÿæˆçš„å¯¹è±¡éƒ½ä¸åŒã€‚è¿™æ ·ï¼Œå°±å®ç°äº†æ¯ä¸ªå­åº”ç”¨çš„ç¯å¢ƒç‹¬ç«‹ï¼Œé¿å…å˜é‡æ±¡æŸ“ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// get the entry html content and script executor</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> template<span class="token punctuation">:</span> appContent<span class="token punctuation">,</span> execScripts<span class="token punctuation">,</span> assetPublicPath <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">importEntry</span><span class="token punctuation">(</span>entry<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// compose the config getTemplate function with default wrapper</span>
    getTemplate<span class="token punctuation">:</span> <span class="token function">flow</span><span class="token punctuation">(</span>getTemplate<span class="token punctuation">,</span> <span class="token function">getDefaultTplWrapper</span><span class="token punctuation">(</span>appName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>settings<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//çœç•¥éƒ¨åˆ†ä»£ç ...</span>

<span class="token comment">// get the lifecycle hooks from module exports</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> bootstrap<span class="token punctuation">:</span> bootstrapApp<span class="token punctuation">,</span> mount<span class="token punctuation">,</span> unmount <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">execScripts</span><span class="token punctuation">(</span>jsSandbox<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>Qiankun</code> é‡‡ç”¨ <code>HTML Entry</code> ä½œä¸ºèµ„æºæ³¨å…¥æ–¹å¼ï¼Œ <code>HTML Entry</code> æ–¹å¼ä¸éœ€è¦å•ç‹¬æä¾›æŒ‚è½½ç‚¹ï¼Œä¹Ÿä¸éœ€è¦å•ç‹¬å¤„ç†èµ„æºåŠ è½½çš„é—®é¢˜ï¼Œæ— è®ºæ˜¯æŒ‚è½½ç‚¹è¿˜æ˜¯èµ„æºéƒ½åœ¨ <code>HTML</code> ä¸­ï¼Œéƒ½èƒ½ä¸€æ¬¡æ€§å…¨éƒ¨è§£æåˆ°ã€‚<code>Qiankun</code> æ‹‰å–å’Œè§£æ <code>html</code> éƒ½æ˜¯ä½¿ç”¨ <code>import-html-entry</code> å®Œæˆçš„ã€‚</p></div></article> <section class="post-meta main-div" data-v-1956e4d1><section class="post-date clearfix" data-v-1956e4d1><span class="create-date" data-v-1956e4d1>
      å‘å¸ƒæ—¶é—´ : 2021-04-13
    </span> <span class="update-date" data-v-1956e4d1>
      æœ€åä¿®æ”¹ : 2021-04-14
    </span></section> <section class="post-links" data-v-1956e4d1><a href="/blog/posts/2020/06/02/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83.html" class="post-link" data-v-1956e4d1>
      ä¸Šä¸€ç¯‡ : ğŸš€å‰ç«¯ä»£ç è§„èŒƒ
    </a> <a href="/blog/posts/2021/06/11/%E4%BD%BF%E7%94%A8react-%E5%8E%9F%E7%90%86%EF%BC%8C%E4%BC%98%E5%8C%96%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E5%8D%A1%E6%AD%BB%E9%97%AE%E9%A2%98.html" class="post-link" data-v-1956e4d1>
      ä¸‹ä¸€ç¯‡ : ğŸš€ä½¿ç”¨react åŸç†ï¼Œä¼˜åŒ–é¡µé¢æ¸²æŸ“å¡æ­»é—®é¢˜
    </a></section></section> <div id="post-comments" class="main-div"><!----></div></div></main> <aside class="aside" data-v-2c3a28f0><div class="info-card main-div" data-v-6ed40700 data-v-2c3a28f0><div class="info-card-header" data-v-6ed40700><img src="/blog/assets/img/pine.jpg" alt="pineHe" class="info-avatar" data-v-6ed40700></div> <div class="info-card-body" data-v-6ed40700><section class="info-nickname" data-v-6ed40700>
      pineHe
    </section> <section class="info-desc" data-v-6ed40700>Happy Coding<br/>Happy Life</section> <section class="info-contact" data-v-6ed40700><section data-v-6ed40700><span title="Shen'zhen City, China" data-v-6ed40700 data-v-6ed40700><svg class="icon" style="font-size:1em;" data-v-6ed40700 data-v-6ed40700><title data-v-6ed40700 data-v-6ed40700>Shen'zhen City, China</title><use xlink:href="#icon-location" data-v-6ed40700 data-v-6ed40700></use></svg><span class="info-text" data-v-6ed40700 data-v-6ed40700>
          Shen'zhen City, China
        </span></span></section> <section data-v-6ed40700><span title="Shen'zhen Private Enterprise" data-v-6ed40700 data-v-6ed40700><svg class="icon" style="font-size:1em;" data-v-6ed40700 data-v-6ed40700><title data-v-6ed40700 data-v-6ed40700>Shen'zhen Private Enterprise</title><use xlink:href="#icon-organization" data-v-6ed40700 data-v-6ed40700></use></svg><span class="info-text" data-v-6ed40700 data-v-6ed40700>
          Shen'zhen Private Enterprise
        </span></span></section> <section data-v-6ed40700><a href="mailto:jsonHe557@163.com" title="jsonHe557@163.com" data-v-6ed40700 data-v-6ed40700><svg class="icon" style="font-size:1em;" data-v-6ed40700 data-v-6ed40700><title data-v-6ed40700 data-v-6ed40700>jsonHe557@163.com</title><use xlink:href="#icon-email" data-v-6ed40700 data-v-6ed40700></use></svg><span class="info-text" data-v-6ed40700 data-v-6ed40700>
          jsonHe557@163.com
        </span></a></section></section></div> <div class="info-card-footer" data-v-6ed40700><section class="info-sns clearfix" data-v-6ed40700><a href="https://github.com/superuserhe/blog" target="_blank" class="sns-link" data-v-6ed40700><span title="GitHub: superuserhe" class="sns-icon" data-v-6ed40700 data-v-6ed40700><svg class="icon" style="font-size:1.5em;" data-v-6ed40700 data-v-6ed40700><title data-v-6ed40700 data-v-6ed40700>GitHub: superuserhe</title><use xlink:href="#icon-github" data-v-6ed40700 data-v-6ed40700></use></svg></span></a></section></div></div> <div class="post-nav-card main-div" style="position:relative;top:0;width:0px;" data-v-2c3a28f0><div class="post-nav-contents"><svg class="icon"><title>book</title><use xlink:href="#icon-book"></use></svg> <span>æ–‡ç« ç›®å½•</span> <div class="post-nav-toc"><ul><li><a href="/blog/posts/2021/04/13/%E5%BE%AE%E5%89%8D%E7%AB%AF.html#ä¸ºä»€ä¹ˆéœ€è¦å¾®å‰ç«¯">ä¸ºä»€ä¹ˆéœ€è¦å¾®å‰ç«¯</a></li><li><a href="/blog/posts/2021/04/13/%E5%BE%AE%E5%89%8D%E7%AB%AF.html#æŠ€æœ¯æ–¹æ¡ˆ">æŠ€æœ¯æ–¹æ¡ˆ</a></li><li><a href="/blog/posts/2021/04/13/%E5%BE%AE%E5%89%8D%E7%AB%AF.html#qiankunçš„æ ¸å¿ƒåŸç†">Qiankunçš„æ ¸å¿ƒåŸç†</a></li></ul></div></div> <div class="post-nav-comments"><svg class="icon"><title>comment</title><use xlink:href="#icon-comment"></use></svg> <a href="/blog/posts/2021/04/13/%E5%BE%AE%E5%89%8D%E7%AB%AF.html#post-comments">
      è¯„è®º
    </a></div></div></aside></div> <footer class="footer" data-v-7fbc03fc><p class="sns-links" data-v-7fbc03fc><a href="https://github.com/superuserhe/blog" target="_blank" class="sns-link" data-v-7fbc03fc><span title="GitHub: superuserhe" class="sns-icon" data-v-7fbc03fc data-v-7fbc03fc><svg class="icon" style="font-size:25px;" data-v-7fbc03fc data-v-7fbc03fc><title data-v-7fbc03fc data-v-7fbc03fc>GitHub: superuserhe</title><use xlink:href="#icon-github" data-v-7fbc03fc data-v-7fbc03fc></use></svg></span></a></p> <p data-v-7fbc03fc><span data-v-7fbc03fc>Powered by </span> <a href="https://vuepress.vuejs.org" target="_blank" data-v-7fbc03fc>Vuepress</a></p></footer></div><div class="global-ui"><!----><!----></div></div>
    <script src="/blog/assets/js/vendor.vue.5f1db0b8.js" defer></script><script src="/blog/assets/js/8.b27390c7.js" defer></script><script src="/blog/assets/js/16.8c2128b8.js" defer></script><script src="/blog/assets/js/vendor.commons.62f82482.js" defer></script><script src="/blog/assets/js/app.fe65c3d9.js" defer></script>
  </body>
</html>
